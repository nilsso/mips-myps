inputControl   = d0
tTDisp         = d1
pTDisp         = d2
tankC          = d3
tankH          = d4
furnaceControl = d5

def GREEN = 2
def GRAY  = 1

loop:
    yield()
    input = inputControl.Setting
    tT = (input % 1000) * 10
    pT = trunc(input / 1000) * 100
    tC = tankC.Temperature
    tH = tankH.Temperature
    tValid = tC < tT and tT < tH
    pValid = 0 < pT and pT < 60000

    tTDisp.Setting = tT
    pTDisp.Setting = pT
    tTDisp.Color = tValid ? GREEN : GRAY
    pTDisp.Color = pValid ? GREEN : GRAY

    #if tValid and db.Setting != 0:
    #    if dse(furnaceControl):
    #        furnaceControl.Setting = input